import React from "react";

let i = 60; // Inicializamos los segundos
let m = 60; // Inicializamos los minutos
let h = 24; // Inicializamos las horas
let d = 365; // Inicializamos los días
let w = 52; // Inicializamos las semanas

const Interval2 = () => {
  // Actualizamos los elementos de la página con los valores actuales de segundos, minutos, horas, días y semanas
  document.querySelector(".seconds2").textContent = i < 10 ? '0' + i : i;
  document.querySelector(".minutes2").textContent = m < 10 ? '0' + m : m;
  document.querySelector(".hours2").textContent = h < 10 ? '0' + h : h;
  document.querySelector(".days2").textContent = d < 10 ? '00' + d : d;
  document.querySelector(".weeks2").textContent = w < 10 ? '0' + w : w;

  // Detener el cronómetro cuando todos los valores llegan a 0
  if (w === 0 && d === 0 && h === 0 && m === 0 && i === 0) {
    clearInterval(timer); // Detenemos el setInterval cuando el tiempo llega a 0
    return;
  }

  // Decrementar los segundos
  i--;

  // Si los segundos llegan a -1, restamos 1 a los minutos
  if (i < 0) {
    i = 59; // Reiniciar los segundos a 59
    m--;    // Decrementar los minutos
  }

  // Si los minutos llegan a -1, restamos 1 a las horas
  if (m < 0) {
    m = 59; // Reiniciar los minutos a 59
    h--;    // Decrementar las horas
  }

  // Si las horas llegan a -1, restamos 1 a los días
  if (h < 0) {
    h = 23; // Reiniciar las horas a 23
    d--;    // Decrementar los días
  }

  // Si los días llegan a -1, restamos 1 a las semanas
  if (d < 0) {
    d = 6; // Reiniciar los días a 6
    w--;   // Decrementar las semanas
  }
}

// Iniciar el contador con un intervalo más rápido para probar (10 ms)
const timer = setInterval(() => {
  Interval2();
}, 10);  // Puedes cambiar el valor a 1000 ms para un intervalo normal

export { Interval2 };
